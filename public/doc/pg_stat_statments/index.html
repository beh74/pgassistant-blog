<!DOCTYPE html>
<html lang="en" dir="auto">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>Enable pg_stat_statements module | pgAssistant Blog</title>
<meta name="keywords" content="Docker, Postgres">
<meta name="description" content="How to do it
pg_stat_statements is required by pgAssistant. If you are not familiar with this module, you can find here the official Postgres documentation.
To enable this module, add this option on the command that runs Posgres :
shared_preload_libraries=&#39;pg_stat_statements&#39;
Then, connect to the database and run this command :
CREATE EXTENSION IF NOT EXISTS pg_stat_statements;
(When you run pgAssistant, he will execute this SQL Statements)
If you run Postgresql in a docker environment
Here is a sample docker-compose file that enables the module :">
<meta name="author" content="pgAssistant">
<link rel="canonical" href="http://localhost:1313/doc/pg_stat_statments/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.8fe10233a706bc87f2e08b3cf97b8bd4c0a80f10675a143675d59212121037c0.css" integrity="sha256-j&#43;ECM6cGvIfy4Is8&#43;XuL1MCoDxBnWhQ2ddWSEhIQN8A=" rel="preload stylesheet" as="style">
<link rel="icon" href="http://localhost:1313/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="http://localhost:1313/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="http://localhost:1313/favicon-32x32.png">
<link rel="apple-touch-icon" href="http://localhost:1313/apple-touch-icon.png">
<link rel="mask-icon" href="http://localhost:1313/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="en" href="http://localhost:1313/doc/pg_stat_statments/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript><meta property="og:url" content="http://localhost:1313/doc/pg_stat_statments/">
  <meta property="og:site_name" content="pgAssistant Blog">
  <meta property="og:title" content="Enable pg_stat_statements module">
  <meta property="og:description" content="How to do it pg_stat_statements is required by pgAssistant. If you are not familiar with this module, you can find here the official Postgres documentation.
To enable this module, add this option on the command that runs Posgres :
shared_preload_libraries=&#39;pg_stat_statements&#39; Then, connect to the database and run this command :
CREATE EXTENSION IF NOT EXISTS pg_stat_statements; (When you run pgAssistant, he will execute this SQL Statements)
If you run Postgresql in a docker environment Here is a sample docker-compose file that enables the module :">
  <meta property="og:locale" content="en-us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="doc">
    <meta property="article:published_time" content="2025-07-24T00:00:00+00:00">
    <meta property="article:modified_time" content="2025-07-24T00:00:00+00:00">
    <meta property="article:tag" content="Docker">
    <meta property="article:tag" content="Postgres">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Enable pg_stat_statements module">
<meta name="twitter:description" content="How to do it
pg_stat_statements is required by pgAssistant. If you are not familiar with this module, you can find here the official Postgres documentation.
To enable this module, add this option on the command that runs Posgres :
shared_preload_libraries=&#39;pg_stat_statements&#39;
Then, connect to the database and run this command :
CREATE EXTENSION IF NOT EXISTS pg_stat_statements;
(When you run pgAssistant, he will execute this SQL Statements)
If you run Postgresql in a docker environment
Here is a sample docker-compose file that enables the module :">


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Docs",
      "item": "http://localhost:1313/doc/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "Enable pg_stat_statements module",
      "item": "http://localhost:1313/doc/pg_stat_statments/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Enable pg_stat_statements module",
  "name": "Enable pg_stat_statements module",
  "description": "How to do it pg_stat_statements is required by pgAssistant. If you are not familiar with this module, you can find here the official Postgres documentation.\nTo enable this module, add this option on the command that runs Posgres :\nshared_preload_libraries=\u0026#39;pg_stat_statements\u0026#39; Then, connect to the database and run this command :\nCREATE EXTENSION IF NOT EXISTS pg_stat_statements; (When you run pgAssistant, he will execute this SQL Statements)\nIf you run Postgresql in a docker environment Here is a sample docker-compose file that enables the module :\n",
  "keywords": [
    "Docker", "Postgres"
  ],
  "articleBody": "How to do it pg_stat_statements is required by pgAssistant. If you are not familiar with this module, you can find here the official Postgres documentation.\nTo enable this module, add this option on the command that runs Posgres :\nshared_preload_libraries='pg_stat_statements' Then, connect to the database and run this command :\nCREATE EXTENSION IF NOT EXISTS pg_stat_statements; (When you run pgAssistant, he will execute this SQL Statements)\nIf you run Postgresql in a docker environment Here is a sample docker-compose file that enables the module :\nservices: demo-db: restart: always image: postgres:17 environment: - POSTGRES_USER=demo - POSTGRES_PASSWORD=demo - POSTGRES_DB=demo command: \u003e postgres -c shared_preload_libraries='pg_stat_statements' -c max_connections=200 -c shared_buffers='512MB' -c effective_cache_size='1536MB' -c maintenance_work_mem='128MB' -c checkpoint_completion_target=0.9 -c wal_buffers='16MB' -c default_statistics_target=100 -c random_page_cost=1.1 -c effective_io_concurrency=200 -c work_mem='1310kB' -c huge_pages='off' -c min_wal_size='1GB' -c max_wal_size='4GB' -c max_worker_processes=4 -c max_parallel_workers_per_gather=2 -c max_parallel_workers=4 -c max_parallel_maintenance_workers=2 ports: - 5432:5432 ",
  "wordCount" : "140",
  "inLanguage": "en",
  "datePublished": "2025-07-24T00:00:00Z",
  "dateModified": "2025-07-24T00:00:00Z",
  "author":{
    "@type": "Person",
    "name": "pgAssistant"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "http://localhost:1313/doc/pg_stat_statments/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "pgAssistant Blog",
    "logo": {
      "@type": "ImageObject",
      "url": "http://localhost:1313/favicon.ico"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="http://localhost:1313/" accesskey="h" title="pgAssistant Blog (Alt + H)">pgAssistant Blog</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)" aria-label="Toggle theme">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="http://localhost:1313/doc/" title="Documentation">
                    <span>Documentation</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/post/" title="Posts">
                    <span>Posts</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    <div class="breadcrumbs"><a href="http://localhost:1313/">Home</a>&nbsp;»&nbsp;<a href="http://localhost:1313/doc/">Docs</a></div>
    <h1 class="post-title entry-hint-parent">
      Enable pg_stat_statements module
    </h1>
    <div class="post-meta"><span title='2025-07-24 00:00:00 +0000 UTC'>July 24, 2025</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;pgAssistant

</div>
  </header> <div class="toc">
    <details >
        <summary accesskey="c" title="(Alt + C)">
            <span class="details">Table of Contents</span>
        </summary>

        <div class="inner"><ul>
                <li>
                    <a href="#how-to-do-it" aria-label="How to do it">How to do it</a></li>
                <li>
                    <a href="#if-you-run-postgresql-in-a-docker-environment" aria-label="If you run Postgresql in a docker environment">If you run Postgresql in a docker environment</a>
                </li>
            </ul>
        </div>
    </details>
</div>

  <div class="post-content"><h1 id="how-to-do-it">How to do it<a hidden class="anchor" aria-hidden="true" href="#how-to-do-it">#</a></h1>
<p>pg_stat_statements is required by pgAssistant. If you are not familiar with this module, you can find <a href="https://www.postgresql.org/docs/current/pgstatstatements.html">here</a> the official Postgres documentation.</p>
<p>To enable this module, add this option on the command that runs Posgres :</p>
<pre tabindex="0"><code>shared_preload_libraries=&#39;pg_stat_statements&#39;
</code></pre><p>Then, connect to the database and run this command :</p>
<pre tabindex="0"><code>CREATE EXTENSION IF NOT EXISTS pg_stat_statements;
</code></pre><p>(When you run pgAssistant, he will execute this SQL Statements)</p>
<h1 id="if-you-run-postgresql-in-a-docker-environment">If you run Postgresql in a docker environment<a hidden class="anchor" aria-hidden="true" href="#if-you-run-postgresql-in-a-docker-environment">#</a></h1>
<p>Here is a sample docker-compose file that enables the module :</p>
<pre tabindex="0"><code>services:
  demo-db:
    restart: always
    image: postgres:17
    environment:
      - POSTGRES_USER=demo
      - POSTGRES_PASSWORD=demo
      - POSTGRES_DB=demo
    command: &gt;
        postgres
        -c shared_preload_libraries=&#39;pg_stat_statements&#39;
        -c max_connections=200
        -c shared_buffers=&#39;512MB&#39;
        -c effective_cache_size=&#39;1536MB&#39;
        -c maintenance_work_mem=&#39;128MB&#39;
        -c checkpoint_completion_target=0.9
        -c wal_buffers=&#39;16MB&#39;
        -c default_statistics_target=100
        -c random_page_cost=1.1
        -c effective_io_concurrency=200
        -c work_mem=&#39;1310kB&#39;
        -c huge_pages=&#39;off&#39;
        -c min_wal_size=&#39;1GB&#39;
        -c max_wal_size=&#39;4GB&#39;
        -c max_worker_processes=4
        -c max_parallel_workers_per_gather=2
        -c max_parallel_workers=4
        -c max_parallel_maintenance_workers=2
     
    ports:
      - 5432:5432
</code></pre>

  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="http://localhost:1313/tags/docker/">Docker</a></li>
      <li><a href="http://localhost:1313/tags/postgres/">Postgres</a></li>
    </ul>
<nav class="paginav">
  <a class="next" href="http://localhost:1313/doc/startup_docker/">
    <span class="title">Next »</span>
    <br>
    <span>Startup pgAssistant with docker</span>
  </a>
</nav>

  </footer>
</article>
    </main>
    
<footer class="footer">
        <span>&copy; 2025 <a href="http://localhost:1313/">pgAssistant Blog</a></span> · 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
</body>

</html>
